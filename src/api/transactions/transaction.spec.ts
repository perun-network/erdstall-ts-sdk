// SPDX-License-Identifier: Apache-2.0
"use strict";

import "reflect-metadata";
import { describe, it } from "mocha";
import { TypedJSON } from "#erdstall/export/typedjson";
import { Call, Result, ErdstallObject } from "#erdstall/api";
import { expect } from "chai";
import { Transaction } from "./transaction";
import { Trade } from "./trade";
import {
	Address,
	registerAddressType,
	registerSignatureType,
} from "#erdstall/ledger";
import { utils } from "ethers";
import { Transfer } from "./transfer";
import { TxReceipt, AttestationResult } from "../responses";
import { TestAddress, TestSignature } from "#erdstall/test";

registerAddressType("test", TestAddress);
registerSignatureType("test", TestSignature);

describe("Wiremessages", () => {
	it("de-/encodes subscriptions", () => {
		genericJSONTest(testSubscribeTXs, Call);
		genericJSONTest(testSubscribeBalanceProofs, Call);
		genericJSONTest(testSubscribePhaseShifts, Call);
	});
	it("de-/encodes errors", () => {
		genericJSONTest(testError, Result);
	});
	it("de-/encodes exitmodes", () => {
		genericJSONTest(testFullExitMode, ErdstallObject);
	});
	it("de-/encodes exitrequests", () => {
		genericJSONTest(testExitRequest, Call);
	});
	it("de-/encodes transfers", () => {
		genericJSONTest(testTransfer, Call);
	});
	it("de-/encodes mints", () => {
		genericJSONTest(testMint, Call);
	});
	it("de-/encodes trades", () => {
		genericJSONTest(testTrade, Call);
	});
	// it("trade ABI test (fees)", () => {
	// 	// Generated randomly in go.
	// 	const testCase: any = {
	// 		contract: Address.fromString(
	// 			"0x6e2FD8A6FB6caf3612967AadC749763e9657e9D1",
	// 		),
	// 		tradeTX: TypedJSON.parse(testTrade, Call)!
	// 			.data as Transaction as Trade,
	// 		tradeOfferABI:
	// 			"0x00000000000000000000000000000000000000000000000000000000000000e00000000000000000000000006e2fd8a6fb6caf3612967aadc749763e9657e9d1000000000000000000000000853e4adb7133a2428f9110d6fe90528f952c9b8a00000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000001d6b500e63ff2af00000000000000000000000000000000000000000000000000000000000000420000000000000000000000000000000000000000000000000000000000000062000000000000000000000000000000000000000000000000000000000000000124572647374616c6c54726164654f66666572000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000260000000000000000000000000864d521069db48e3ecc0fb37758fe390ffc52792000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000206c0586c8342049adb937086313fb85455a9c12dff262d0e450e148abac29d8cb0000000000000000000000008930626eb9d0021f4c55112252ba3d204ce042650000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000004033f7ef5bcef66ea157f22ece0b7941897c67fa4bb2fd8d1af25224e9a2d24fcef2c182b9a127700c4025f9ec0c98cc35b94d51c88aa553cfd096b97f7586e2be00000000000000000000000090a178bdf2018e4cb104b28f6276cdfa0e32f1fd0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000006038424b50e731a15664fc82bb4d7a9288a20effb7092a477a30f3eca90122c7dc5d4350a213f20b5c521a7877e09ff95d7eee15c975c8280b952a2fa57ad8bac584f9d82636fe8a455a57af682c1a88fedf173ae0c17af601496d643b09f590c9000000000000000000000000ab5e120e45085aaaaac8f81d21087c8c6cec81ce00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000020617683715581a365caf4354ecb69b248fbde705ccdbd33b6ef3048344407ea920000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000160000000000000000000000000ac15eca362aeae4876e76fbd5648130e8f123f290000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000002066cccdc1cb7da5c70669401f4b617b26a69ae3df1598d4a781f9927b6b42a5ce000000000000000000000000d26267f82969fba5d6be0986f5a505f1604107b5000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000207932032e2e9e3ca0183fa006dcf696e2263b04ab84da3c907afb98c50b3ffa0d000000000000000000000000d740ae29e3d69e2f42899e413381e1553840f72a00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000020133cfb4f6aafb36324186e6c6da8d56cf1812d048e5a39f3db714c2a195b042d000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000800000000000000000000000006e2fd8a6fb6caf3612967aadc749763e9657e9d100000000000000000000000049ed509ee584a17987156e276f180b234e79292c00000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000114572647374616c6c5472616465466565730000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000035b7ef7803eb1a954517ee58aa9ea5964afd44ce000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000203aeb4f544769e0a8dd5ab3d2a8569336cadeb54db0af60cf79c5c13f8b1c1b86000000000000000000000000ccf0fbe58471cb5e6e4bf25fddb8f8709b24f1fc00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000020118d5931da69e0069fcb94ef71e248bb22379080bd8983dda622c7c9a59416df",
	// 		tradeTXABI:
	// 			"0x00000000000000000000000000000000000000000000000000000000000000c00000000000000000000000006e2fd8a6fb6caf3612967aadc749763e9657e9d1000000000000000000000000cc7b33980df2ed446b3ece6598ddd4a0373ac86f0000000000000000000000000000000000000000000000008b7b899853b7799c00000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000000f4572647374616c6c54726164655458000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000410a608b36448f0ffb2ba265fc031cc7ec31ac44bd7185a72661afef805c8e06465fc4ccbcc4ed2790ec003dbb7584da98a264b47a553c1bbab087c882890813ce1c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000086000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000006e2fd8a6fb6caf3612967aadc749763e9657e9d1000000000000000000000000853e4adb7133a2428f9110d6fe90528f952c9b8a00000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000001d6b500e63ff2af00000000000000000000000000000000000000000000000000000000000000420000000000000000000000000000000000000000000000000000000000000062000000000000000000000000000000000000000000000000000000000000000124572647374616c6c54726164654f66666572000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000260000000000000000000000000864d521069db48e3ecc0fb37758fe390ffc52792000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000206c0586c8342049adb937086313fb85455a9c12dff262d0e450e148abac29d8cb0000000000000000000000008930626eb9d0021f4c55112252ba3d204ce042650000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000004033f7ef5bcef66ea157f22ece0b7941897c67fa4bb2fd8d1af25224e9a2d24fcef2c182b9a127700c4025f9ec0c98cc35b94d51c88aa553cfd096b97f7586e2be00000000000000000000000090a178bdf2018e4cb104b28f6276cdfa0e32f1fd0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000006038424b50e731a15664fc82bb4d7a9288a20effb7092a477a30f3eca90122c7dc5d4350a213f20b5c521a7877e09ff95d7eee15c975c8280b952a2fa57ad8bac584f9d82636fe8a455a57af682c1a88fedf173ae0c17af601496d643b09f590c9000000000000000000000000ab5e120e45085aaaaac8f81d21087c8c6cec81ce00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000020617683715581a365caf4354ecb69b248fbde705ccdbd33b6ef3048344407ea920000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000160000000000000000000000000ac15eca362aeae4876e76fbd5648130e8f123f290000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000002066cccdc1cb7da5c70669401f4b617b26a69ae3df1598d4a781f9927b6b42a5ce000000000000000000000000d26267f82969fba5d6be0986f5a505f1604107b5000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000207932032e2e9e3ca0183fa006dcf696e2263b04ab84da3c907afb98c50b3ffa0d000000000000000000000000d740ae29e3d69e2f42899e413381e1553840f72a00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000020133cfb4f6aafb36324186e6c6da8d56cf1812d048e5a39f3db714c2a195b042d000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000800000000000000000000000006e2fd8a6fb6caf3612967aadc749763e9657e9d100000000000000000000000049ed509ee584a17987156e276f180b234e79292c00000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000114572647374616c6c5472616465466565730000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000035b7ef7803eb1a954517ee58aa9ea5964afd44ce000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000203aeb4f544769e0a8dd5ab3d2a8569336cadeb54db0af60cf79c5c13f8b1c1b86000000000000000000000000ccf0fbe58471cb5e6e4bf25fddb8f8709b24f1fc00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000020118d5931da69e0069fcb94ef71e248bb22379080bd8983dda622c7c9a59416df",
	// 	};
	// 	const offer = testCase.tradeTX.offer;
	// 	expect(offer.fees).to.exist;
	// 	expect(utils.hexlify(offer.packTagged(testCase.contract).bytes)).eql(
	// 		testCase.tradeOfferABI,
	// 	);
	// 	expect(
	// 		utils.hexlify(testCase.tradeTX.packTagged(testCase.contract).bytes),
	// 	).eql(testCase.tradeTXABI);
	// });

	// it("trade ABI test (no fees)", () => {
	// 	// Generated randomly in go.
	// 	const testCase: any = {
	// 		contract: Address.fromString(
	// 			"0x6e2FD8A6FB6caf3612967AadC749763e9657e9D1",
	// 		),
	// 		tradeTX: TypedJSON.parse(
	// 			'{"sig":"0x4fda8964bb4929ed959b8efc6246686c0c851dd1b2f5ff13e7822e6a120544b5547ed6585b25e56602b616b9ac1fc640c387b329178df9bb9f8f0839a6b7c5e11b","sender":"0xcc7b33980df2ed446b3ece6598ddd4a0373ac86f","nonce":"3154030767102693157","offer":{"sig":"0x1935fa389c56ae1deb654b443bd060aa7c58ce97c26ab2bf66f6e9fb85993c1479961b5d96d4c75d80766ae921fb2c81540a5a4686ac37a319e401d031f0a83b1b","owner":"0x853e4adb7133a2428f9110d6fe90528f952c9b8a","offer":{"0x074B0E4cEA85fe6CfEaa1FA5B78aAa137b6C25bA":{"uint":"0x6a2725d52f730ffad9aeaad635512ff952da8971fc39c459e4070a8247cafd86"},"0xBB4e8bD29bbC6c51F7C6204fA131bbF5dE8C7D44":{"uint":"0x9fd4c0687e0f8e85a150bf90b77cbca7f0fec4b9cc8cd97aca91f00e874854f0"},"0xB2F30aCb3D83Eb5310796e3374bE07FcBAeaF8cF":{"uint":"0x178b5ea097edc5fc1ce84a83cb70ada998175f31bb1a81ee1545ec1f27bb9f2f"},"0x0264c08e7381e5275Db666CE3963caD731b71082":{"uint":"0x2f377d8541c4f898abb0d46aad3bc32250270c3faed5a2fc9b66eb57a835d079"}},"expiry":"3510488203188983396","request":{"0x1B8C723CFc1085deBDC8149fea278ddA2CDB7861":{"idset":["0x5208cfd459064675857e2762b5d737508c6ef48c56368cd383a80d6cb5b8ee9c","0xa03135f543d627c14826ab8d9958fb034a332424dae01c6ac25fb18b55cc6c02","0xf93f1b36d53b9f1b53ef620758d817602d6ba4046d3090816af8dc45444645ae"]},"0x63A648217cA03A44A0168d6Ca8aaF633F7c17995":{"uint":"0xd7b959541314b6b5d927cd0fb7bb286594a7e24da98ca89973db17598f0d9e60"},"0xA4608979e027ac444Cc34E2D754EE99E7d2Be147":{"uint":"0x79ede6b960bd5b7b983b935df0cd75c67a4f6335d5da5c2622a77487074ea423"}}}}',
	// 			Trade,
	// 		)!,
	// 		tradeOfferABI:
	// 			"0x00000000000000000000000000000000000000000000000000000000000000e00000000000000000000000006e2fd8a6fb6caf3612967aadc749763e9657e9d1000000000000000000000000853e4adb7133a2428f9110d6fe90528f952c9b8a000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000030b7c26be347566400000000000000000000000000000000000000000000000000000000000003c0000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000124572647374616c6c54726164654f666665720000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000018000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000264c08e7381e5275db666ce3963cad731b71082000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000202f377d8541c4f898abb0d46aad3bc32250270c3faed5a2fc9b66eb57a835d079000000000000000000000000074b0e4cea85fe6cfeaa1fa5b78aaa137b6c25ba000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000206a2725d52f730ffad9aeaad635512ff952da8971fc39c459e4070a8247cafd86000000000000000000000000b2f30acb3d83eb5310796e3374be07fcbaeaf8cf00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000020178b5ea097edc5fc1ce84a83cb70ada998175f31bb1a81ee1545ec1f27bb9f2f000000000000000000000000bb4e8bd29bbc6c51f7c6204fa131bbf5de8c7d44000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000209fd4c0687e0f8e85a150bf90b77cbca7f0fec4b9cc8cd97aca91f00e874854f000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000001b8c723cfc1085debdc8149fea278dda2cdb7861000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000605208cfd459064675857e2762b5d737508c6ef48c56368cd383a80d6cb5b8ee9ca03135f543d627c14826ab8d9958fb034a332424dae01c6ac25fb18b55cc6c02f93f1b36d53b9f1b53ef620758d817602d6ba4046d3090816af8dc45444645ae00000000000000000000000063a648217ca03a44a0168d6ca8aaf633f7c1799500000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000020d7b959541314b6b5d927cd0fb7bb286594a7e24da98ca89973db17598f0d9e60000000000000000000000000a4608979e027ac444cc34e2d754ee99e7d2be1470000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000002079ede6b960bd5b7b983b935df0cd75c67a4f6335d5da5c2622a77487074ea4230000000000000000000000000000000000000000000000000000000000000000",
	// 		tradeTXABI:
	// 			"0x00000000000000000000000000000000000000000000000000000000000000c00000000000000000000000006e2fd8a6fb6caf3612967aadc749763e9657e9d1000000000000000000000000cc7b33980df2ed446b3ece6598ddd4a0373ac86f0000000000000000000000000000000000000000000000002bc55e459bcf0f2500000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000000f4572647374616c6c54726164655458000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000411935fa389c56ae1deb654b443bd060aa7c58ce97c26ab2bf66f6e9fb85993c1479961b5d96d4c75d80766ae921fb2c81540a5a4686ac37a319e401d031f0a83b1b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000062000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000006e2fd8a6fb6caf3612967aadc749763e9657e9d1000000000000000000000000853e4adb7133a2428f9110d6fe90528f952c9b8a000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000030b7c26be347566400000000000000000000000000000000000000000000000000000000000003c0000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000124572647374616c6c54726164654f666665720000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000018000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000264c08e7381e5275db666ce3963cad731b71082000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000202f377d8541c4f898abb0d46aad3bc32250270c3faed5a2fc9b66eb57a835d079000000000000000000000000074b0e4cea85fe6cfeaa1fa5b78aaa137b6c25ba000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000206a2725d52f730ffad9aeaad635512ff952da8971fc39c459e4070a8247cafd86000000000000000000000000b2f30acb3d83eb5310796e3374be07fcbaeaf8cf00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000020178b5ea097edc5fc1ce84a83cb70ada998175f31bb1a81ee1545ec1f27bb9f2f000000000000000000000000bb4e8bd29bbc6c51f7c6204fa131bbf5de8c7d44000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000209fd4c0687e0f8e85a150bf90b77cbca7f0fec4b9cc8cd97aca91f00e874854f000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000001b8c723cfc1085debdc8149fea278dda2cdb7861000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000605208cfd459064675857e2762b5d737508c6ef48c56368cd383a80d6cb5b8ee9ca03135f543d627c14826ab8d9958fb034a332424dae01c6ac25fb18b55cc6c02f93f1b36d53b9f1b53ef620758d817602d6ba4046d3090816af8dc45444645ae00000000000000000000000063a648217ca03a44a0168d6ca8aaf633f7c1799500000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000020d7b959541314b6b5d927cd0fb7bb286594a7e24da98ca89973db17598f0d9e60000000000000000000000000a4608979e027ac444cc34e2d754ee99e7d2be1470000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000002079ede6b960bd5b7b983b935df0cd75c67a4f6335d5da5c2622a77487074ea4230000000000000000000000000000000000000000000000000000000000000000",
	// 	};
	// 	const offer = testCase.tradeTX.offer;
	// 	expect(offer.fees).to.be.undefined;
	// 	expect(utils.hexlify(offer.packTagged(testCase.contract).bytes)).eql(
	// 		testCase.tradeOfferABI,
	// 	);
	// 	expect(
	// 		utils.hexlify(testCase.tradeTX.packTagged(testCase.contract).bytes),
	// 	).eql(testCase.tradeTXABI);
	// });
	it("de-/encodes receipts", () => {
		genericJSONTest(testTxReceipt, Result);
	});
	it("de-/encodes clientconfigs", () => {
		genericJSONTest(testClientConfig, Result);
	});
	// it("de-/encodes balanceproofs", () => {
	// 	genericJSONTest(testBalanceProofs, ErdstallObject);
	// });
	// it("calculates the correct hash", () => {
	// 	const tx = TypedJSON.parse(testHashing, Transfer);
	// 	expect(tx!.hash()).to.equal(
	// 		"0x4cc6db6207731e54b26e2b2bc3d55b916a37a70cbe19b2924a0b8e1c01b9a8f0",
	// 	);
	// });

	// it("de-/encodes attestation reports", () => {
	// 	genericJSONTest(testAttestResponse, ErdstallObject);
	// });
});

function genericJSONTest(data: string, type: any) {
	const res = TypedJSON.parse(data, type);
	expect(JSON.parse(TypedJSON.stringify(res, type))).eql(JSON.parse(data));
}

('{"balance":{"epoch":"2833375222291872958","chain":44616,"account":{"type":"test","data":"f6da9ad2d89337db4f6883118533d9993ba0fe513940b41a81c9d5e79147056a"},"values":{"47719":{"fungibles":{"e942533e9d3554ebb0a2fb8529fbae704c008c62be41a3cb5de6b92fd3327be8":"0xc2b59d563151312e45ff1e3ae7c4524d93ad94ab8dffabbb7db1f75a33313874"}},"49968":{"fungibles":{"195d8cb92596de9f91224f2565b708a1914a2e550d2c88bbda0c1c9029e135ce":"0x1efec2fda6e524c31c726673c7df557200affd497b39557ee0e20de0168f846"}},"52453":{"nfts":{"74e34f221c2978f7d67c170ed0910bda521d61775daef7d2de74e1d2a882ebdb":["0x7b6248b5330af3f19ed71d1b01dbbde49d738fd73fbf78bab3d42e91af95619e","0xe7ce7b8002007ede1da939d360fa79f5ebe0d275b95e08061bdc294b81f7a372"]}},"59219":{"fungibles":{"ed0c9a62cb260e9c81058795c3304ae09827473e5d82c0f15f9677e0bf1dbce1":"0xd35d4cf6ccbe1251902986d061e4e5f0518fc706e8c83a540c41227279540c43"}}},"exit":false},"sig":{"type":"test","data":{"address":null,"msg":"s8eQbcwW7QvJbGy8hp9byrZA5in8Pbiohajx4dxdaG8="}}}');

const testBalanceProofs =
	'{"type":"BalanceProofs","data":{"0x923439be515b6a928cb9650d70000a9044e49e85":{"balance":{"epoch":"2833375222291872958","chain":44616,"account":{"type":"test","data":"f6da9ad2d89337db4f6883118533d9993ba0fe513940b41a81c9d5e79147056a"},"values":{"47719":{"fungibles":{"e942533e9d3554ebb0a2fb8529fbae704c008c62be41a3cb5de6b92fd3327be8":"0xc2b59d563151312e45ff1e3ae7c4524d93ad94ab8dffabbb7db1f75a33313874"}},"49968":{"fungibles":{"195d8cb92596de9f91224f2565b708a1914a2e550d2c88bbda0c1c9029e135ce":"0x1efec2fda6e524c31c726673c7df557200affd497b39557ee0e20de0168f846"}},"52453":{"nfts":{"74e34f221c2978f7d67c170ed0910bda521d61775daef7d2de74e1d2a882ebdb":["0x7b6248b5330af3f19ed71d1b01dbbde49d738fd73fbf78bab3d42e91af95619e","0xe7ce7b8002007ede1da939d360fa79f5ebe0d275b95e08061bdc294b81f7a372"]}},"59219":{"fungibles":{"ed0c9a62cb260e9c81058795c3304ae09827473e5d82c0f15f9677e0bf1dbce1":"0xd35d4cf6ccbe1251902986d061e4e5f0518fc706e8c83a540c41227279540c43"}}},"exit":false},"sig":{"type":"test","data":{"address":null,"msg":"s8eQbcwW7QvJbGy8hp9byrZA5in8Pbiohajx4dxdaG8="}}}}}';

const testClientConfig =
	'{"data":{"type":"ClientConfig","data":{"chains":[{"id":589,"type":"ethereum","data":{"networkID":"143448","contract":"0xf921db5dce197af7d9b3c5a7dfac4530fce1c1de","powDepth":23907239}}]}}}';

const testTxReceipt =
	'{"data":{"type":"TxReceipt","data":{"sig":{"type":"test","data":{"address":{"type":"test","data":"0x11342d7d8ae3c7ead6845ade6838864c64197ec6a3f9ea8b6e91d6e95cbd1b80"},"msg":"eyJ2YWx1ZSI6eyJkYXRhIjp7Im5vbmNlIjoiMjEyNTY5MzA0NDkxNjI0OTIyOSIsInJlY2lwaWVudCI6eyJkYXRhIjoiOWZkNGJlYjE5MzYzYWE4NTg2MzIzNTQ0NTA2MmJjMzc5NTU1NjFjNDMyOGIxMzhmYTc0ZDQ2NTljYzgxODdkMCIsInR5cGUiOiJ0ZXN0In0sInNlbmRlciI6eyJkYXRhIjoiMTEzNDJkN2Q4YWUzYzdlYWQ2ODQ1YWRlNjgzODg2NGM2NDE5N2VjNmEzZjllYThiNmU5MWQ2ZTk1Y2JkMWI4MCIsInR5cGUiOiJ0ZXN0In0sInZhbHVlcyI6eyIzMDgxMCI6eyJuZnRzIjp7IjljMzk0ZDE3YjJiNmI5ZGM1YjU3MTg5ODkxNmY0MGQ5Y2ViOTY0NmU1MWNmNDFhY2VjZTU0ODQzOTk1MDFhYTYiOlsiMHg2YTg5YmY0YzdhZGEzMjQ4YTUwNzYyMGU4NWJjMzBmMDQ3M2IyNmQ3MDdiZGUxZGViZDEwOWNlM2NhMWJkOTRkIiwiMHhmMTY2NWQ4MWNhYWI4MTNhMjlkOTFmNTIxMjhjOGQ4YjcwOWQ2MGI0MmUwNzhhOWFiODYxYjlhZDRkMzEyODA1IiwiMHhmZTc3MzRjM2RiMTlkM2Y5Y2Y2NWEyYjY4ZTVmMmIyYjljZGI5ODFlMjdkYmM1NGRkZWQ0YjRmNmU3ODA1NzE1Il19fSwiMzc2NzYiOnsiZnVuZ2libGVzIjp7IjdjOWRlMDM0ZmFiNmViOTU3ZDNmNzNmOWU5ZTE2OGE4OWE3ZTFkZGZiMzFjNTQyOWYxNDQxZDRkZDBmNGI5NDAiOiIweDk0OWMxODY3YzdmZGUwYTZmODFlMmY2MmNhYWNkOWExMWE1MjMyZmJmYWM5YmQzZmE5MGU5ZWIxOGY0Mzk2MyJ9fSwiNDY4MzIiOnsiZnVuZ2libGVzIjp7IjQzMTllOGYxOTZjZTNjNWE3NzNlZTNlMzc3ZDNmZDhmMjE4ODEwYTNmYjAzZWZhZDdjNzUxMzE2MDE4ODgzYzkiOiIweGYwMmRmZjJkZWIwYmQ5ODA3NmFmYjNmOTFiOGI1ZjYzZGI2N2UzYWQ2OGFkMjEwNGZiOGU3MGRmYjYwM2NjMjcifX19fSwidHlwZSI6IlRyYW5zZmVyIn19"}},"delta":{"{\\"type\\":\\"test\\",\\"data\\":\\"439133740363e1611cd8f025950e61bd746bc939c40736de5530ff4a42b714d9\\"}":{"nonce":"5923665378518484250","values":{"36788":{"fungibles":{"ba1e664a3b77a543f34f80161080d2a6ceae825ac5823ad2ee3625b70a3d61e8":"0xbdac1e9724766d99ef3950bbc9e09d5c43b197f7de48b87b9a113fd27bf51b01"}},"5529":{"nfts":{"8e1dd29f411c02a318eb84e53c4ad9276617a25580ff2aee72c26e3fda072f5a":["0x9acf1dd1cd27f333968d164679a88ae8893a0abe7520ee62d9f158fc67f02771"]}},"8561":{"fungibles":{"7f0c5333185705e4996fccf932c28b76fca4700aac983ef0f9e768cbd782d3fb":"0x822fdf6fa277a721e1cc422d59e890220b59eebfe871fc2d3f1af544ee840187"}}},"locked":{"23849":{"fungibles":{"412bccefb3196213cdd2db166d7c53cca8e4fee426dcf71aa21d5a7829ed2dbe":"0x188728e045cb42e03c29281a925002b643ad47f83a2a12533d43d3db9be9f431"}},"29058":{"fungibles":{"85b858edd1ce9d33b070b6acb945488d2cd30f966cb6d42eb3acabf1a425b6ac":"0x6813ffe1be6e233e30bea6cb62f8cbb820ebf2391d8952736cf58d2879823f61"}},"6990":{"fungibles":{"51ae25f2f9e3de5b9e161556692053541acef150c669b9f0af518f40c13f5620":"0x2b5c5acf5f8a27486308b7dd1d8fde10e6b244d79e2fced580c06de9626b445d"}}}},"{\\"type\\":\\"test\\",\\"data\\":\\"d2db795db311669415528ae2eb9c6b1dc51ed05cce80fb6496c7483c04b62dd0\\"}":{"nonce":"16739305941416206394","values":{"29636":{"fungibles":{"562e2c2643479efb67c2acbe864e275c46ac0e5c0b490fb6373d4d89ccbb393a":"0xd0ab9c573c90570f96987d06d8beab10e22a1a3adc559299f35b70b517f71b9a"}},"41313":{"fungibles":{"ee1de9e38f78761d013f215f5f58438c4f9a98cd0e694dfed8acce5881405fe1":"0x489b7a32ae26a7b7e7884f2be07b0eaf8c47f91664d0112b4cc96d14ab32799a"}},"49":{"fungibles":{"660b68c5f00081f05c55fed84abd46f437741ee68abf38e1f531ed01fa146cca":"0x21d806b4b9e0aecf6ddd486607bcc271d50f102a89446aa53ac9e259a1e99b27"}}},"locked":{"56750":{"fungibles":{"78534ad526013cf63339f224c18cd569a5e8d06ec970dcf6b391cc1ef92001b8":"0x881164d68a93a9dcfb96f363b758ba55df6e5ad49e52cf71779ca94f83b78406"}},"63800":{"fungibles":{"8888c82f48c7ef8ad7cd375e1994f9fa82735815a09bd77f22907e59ad032e6b":"0xcb3f38b440b0ca52d33dd28e35741170d34287519ae10b76f9710c383b3748ca"}},"7454":{"fungibles":{"3f39f3cf8f8ade8a36e317d344bd7299d2336c88f6212580197ea48ac9992009":"0x62088f8aea2fe429da30da5dc0abcbe1e46c5edb4cbe8c4f35c37d0e40555864"}}}},"{\\"type\\":\\"test\\",\\"data\\":\\"d2e9eb60f7bc2e9c163ef82425fd328e1b7ffae35eeede92b51bc00f7aa82eba\\"}":{"nonce":"14222678850069952890","values":{"15958":{"nfts":{"93d152b93297ae7d135a6316dabeda2ddd3c9575073342dc6899df1add971f73":["0xab1d35e61d8adf754146548f5f2c574adcf920172e6d4d9aeb6dfb4a3a261e4","0x2a9be3ed6e607c77cc1906713d32d005a2b29cadfa5ce7a872d5783800584d01"]}},"23943":{"fungibles":{"3bd57033ebe1423f15da21f21f164b44e87f29a787ddbe3bf659460123c6ad62":"0x3ffd3b7c27908e2135cab3b32ab3af0ede5da41c2afaa57e536050f2a615a375"}},"50213":{"fungibles":{"ee0958f7cc027d9afe7447f353bc94050f163df6bc013861b9bcd7f93a35378d":"0xc3feed4dd0d70a718a97be0483905a770a4aaaf171ff342175688a9003a827dc"}}},"locked":{"11886":{"fungibles":{"64b5ffca859374d5c295a5d2b16112d630918859ca4d9492ae30fb69e43db5af":"0x1bea4bbdb83750ff7e35513598bfaa739c6fd6aab8f6cda506a5e6532d43ba80"}},"12762":{"fungibles":{"338df1b1e0f1f41f4ca3839c0197f22ed870dc5a79b5fa39c201b25fce8a3add":"0x99a464cbd1b9dafca684aaea062566adbe9aa54c6ae3aca3f5b6e75a39e805ad"}},"53826":{"nfts":{"06354d78a8a7c5d0eba0cfa36a145ec17a0d23d2a861593084cf8154ec1c45ec":["0xc5cdfeb4556902f610fab7bdba86dfcdb0744881a013aada12983aee520d6662","0xd6e9dfa54e34c121f0561beeb561e8bbada4a9afa0239e17cdf4a03905d4bdd9"]}}}}} ,"output":{"payload":"0x"},"hash":"0x0000000000000000000000000000000000000000000000000000000000000000","tx":{"type":"Transfer","data":{"sig":{"type":"test","data":{"address":{"type":"test","data":"0x11342d7d8ae3c7ead6845ade6838864c64197ec6a3f9ea8b6e91d6e95cbd1b80"},"msg":"eyJ2YWx1ZSI6eyJkYXRhIjp7Im5vbmNlIjoiMjEyNTY5MzA0NDkxNjI0OTIyOSIsInJlY2lwaWVudCI6eyJkYXRhIjoiOWZkNGJlYjE5MzYzYWE4NTg2MzIzNTQ0NTA2MmJjMzc5NTU1NjFjNDMyOGIxMzhmYTc0ZDQ2NTljYzgxODdkMCIsInR5cGUiOiJ0ZXN0In0sInNlbmRlciI6eyJkYXRhIjoiMTEzNDJkN2Q4YWUzYzdlYWQ2ODQ1YWRlNjgzODg2NGM2NDE5N2VjNmEzZjllYThiNmU5MWQ2ZTk1Y2JkMWI4MCIsInR5cGUiOiJ0ZXN0In0sInZhbHVlcyI6eyIzMDgxMCI6eyJuZnRzIjp7IjljMzk0ZDE3YjJiNmI5ZGM1YjU3MTg5ODkxNmY0MGQ5Y2ViOTY0NmU1MWNmNDFhY2VjZTU0ODQzOTk1MDFhYTYiOlsiMHg2YTg5YmY0YzdhZGEzMjQ4YTUwNzYyMGU4NWJjMzBmMDQ3M2IyNmQ3MDdiZGUxZGViZDEwOWNlM2NhMWJkOTRkIiwiMHhmMTY2NWQ4MWNhYWI4MTNhMjlkOTFmNTIxMjhjOGQ4YjcwOWQ2MGI0MmUwNzhhOWFiODYxYjlhZDRkMzEyODA1IiwiMHhmZTc3MzRjM2RiMTlkM2Y5Y2Y2NWEyYjY4ZTVmMmIyYjljZGI5ODFlMjdkYmM1NGRkZWQ0YjRmNmU3ODA1NzE1Il19fSwiMzc2NzYiOnsiZnVuZ2libGVzIjp7IjdjOWRlMDM0ZmFiNmViOTU3ZDNmNzNmOWU5ZTE2OGE4OWE3ZTFkZGZiMzFjNTQyOWYxNDQxZDRkZDBmNGI5NDAiOiIweDk0OWMxODY3YzdmZGUwYTZmODFlMmY2MmNhYWNkOWExMWE1MjMyZmJmYWM5YmQzZmE5MGU5ZWIxOGY0Mzk2MyJ9fSwiNDY4MzIiOnsiZnVuZ2libGVzIjp7IjQzMTllOGYxOTZjZTNjNWE3NzNlZTNlMzc3ZDNmZDhmMjE4ODEwYTNmYjAzZWZhZDdjNzUxMzE2MDE4ODgzYzkiOiIweGYwMmRmZjJkZWIwYmQ5ODA3NmFmYjNmOTFiOGI1ZjYzZGI2N2UzYWQ2OGFkMjEwNGZiOGU3MGRmYjYwM2NjMjcifX19fSwidHlwZSI6IlRyYW5zZmVyIn19"}},"sender":{"type":"test","data":"0x11342d7d8ae3c7ead6845ade6838864c64197ec6a3f9ea8b6e91d6e95cbd1b80"},"nonce":"2125693044916249229","recipient":{"type":"test","data":"0x9fd4beb19363aa85863235445062bc37955561c4328b138fa74d4659cc8187d0"},"values":{"30810":{"nfts":{"9c394d17b2b6b9dc5b571898916f40d9ceb9646e51cf41acece5484399501aa6":["0x6a89bf4c7ada3248a507620e85bc30f0473b26d707bde1debd109ce3ca1bd94d","0xf1665d81caab813a29d91f52128c8d8b709d60b42e078a9ab861b9ad4d312805","0xfe7734c3db19d3f9cf65a2b68e5f2b2b9cdb981e27dbc54dded4b4f6e7805715"]}},"37676":{"fungibles":{"7c9de034fab6eb957d3f73f9e9e168a89a7e1ddfb31c5429f1441d4dd0f4b940":"0x949c1867c7fde0a6f81e2f62caacd9a11a5232fbfac9bd3fa90e9eb18f43963"}},"46832":{"fungibles":{"4319e8f196ce3c5a773ee3e377d3fd8f218810a3fb03efad7c751316018883c9":"0xf02dff2deb0bd98076afb3f91b8b5f63db67e3ad68ad2104fb8e70dfb603cc27"}}}}},"status":0,"error":"HbBOmh7m4md9lFGaMnhEbnJkLJBnKo5E4lg"}}}';

const testSignedOutput =
	'{"sig":"0xf4b54e5f262589566ab639858b79fe4007d177ba17dceefc3377cecdbcb4b7046bb57bda4660b52a46124a3e34f35b3d9549bcf22b6b66c04eb545512ffdb98f1c","delta":null,"output":{"payload":"0xcd9f6db0c506d4bee96107a31f50f9f58c879af8b110c17a5490734759c8c836"},"hash":"0x0f67225d8abbfa2588351dd5b394bd0fd9472dda759ebe4d5cc58386a3192326","tx":{"type":"Transfer","data":{"sig":"0x3b44e0643f43e86e7d9cda9038f9b4cf7f4656abca8000df122112199eabd985b8041030f8997a671f949d7a2f3414824aad9ec49300417bd296aaae8eabfe185c","sender":"0x147eda1cc4d6f1377fa784ba1a1802caeae21074","nonce":"8822221320351597216","recipient":"0x0d09b1f87c3b2e9c2dfadd2da2b6249281128a80","values":{"0xb7595dbdbf76cb5ba39f532ff27cde291003153d":{"idset":["0xa761cec673a652a4ec4577a30aad2af98f36ab43fd23822afed7539c264fd356","0xf8872d7d2941e71861068a029b2a27a1ee071453556360ce909f799d6bf8097a"]},"0x6c6d4a7a45cf7598c89a9136257de0e6a1696f6b":{"uint":"0x7fedc4001e58450c2ab266388c6ad4152834cea69915b379c43e9c4c724e66b5"},"0xe5e6a8112766ceeef0e25d217dab6a9df6e0b3ed":{"idset":["0xc3b88fa916470da44b420bbec7163876474d95040927e3e6d5213557735c4be","0xc75a73f19fd281719b5658260b73b3d9923625e5af7fb29d616c3b3a2280d4ec"]}}}},"status":1}';

const signedOutputContract = "0xb002ff164B54621e5F36d3eeB7cb2dE66F89DcF5";

const testTransfer =
	'{"id":"an-id","data":{"type":"Transaction","data":{"type":"Transfer","data":{"sig":{"type":"test","data":{"address":{"type":"test","data":"0x11342d7d8ae3c7ead6845ade6838864c64197ec6a3f9ea8b6e91d6e95cbd1b80"},"msg":"eyJ2YWx1ZSI6eyJkYXRhIjp7Im5vbmNlIjoiMjEyNTY5MzA0NDkxNjI0OTIyOSIsInJlY2lwaWVudCI6eyJkYXRhIjoiOWZkNGJlYjE5MzYzYWE4NTg2MzIzNTQ0NTA2MmJjMzc5NTU1NjFjNDMyOGIxMzhmYTc0ZDQ2NTljYzgxODdkMCIsInR5cGUiOiJ0ZXN0In0sInNlbmRlciI6eyJkYXRhIjoiMTEzNDJkN2Q4YWUzYzdlYWQ2ODQ1YWRlNjgzODg2NGM2NDE5N2VjNmEzZjllYThiNmU5MWQ2ZTk1Y2JkMWI4MCIsInR5cGUiOiJ0ZXN0In0sInZhbHVlcyI6eyIzMDgxMCI6eyJuZnRzIjp7IjljMzk0ZDE3YjJiNmI5ZGM1YjU3MTg5ODkxNmY0MGQ5Y2ViOTY0NmU1MWNmNDFhY2VjZTU0ODQzOTk1MDFhYTYiOlsiMHg2YTg5YmY0YzdhZGEzMjQ4YTUwNzYyMGU4NWJjMzBmMDQ3M2IyNmQ3MDdiZGUxZGViZDEwOWNlM2NhMWJkOTRkIiwiMHhmMTY2NWQ4MWNhYWI4MTNhMjlkOTFmNTIxMjhjOGQ4YjcwOWQ2MGI0MmUwNzhhOWFiODYxYjlhZDRkMzEyODA1IiwiMHhmZTc3MzRjM2RiMTlkM2Y5Y2Y2NWEyYjY4ZTVmMmIyYjljZGI5ODFlMjdkYmM1NGRkZWQ0YjRmNmU3ODA1NzE1Il19fSwiMzc2NzYiOnsiZnVuZ2libGVzIjp7IjdjOWRlMDM0ZmFiNmViOTU3ZDNmNzNmOWU5ZTE2OGE4OWE3ZTFkZGZiMzFjNTQyOWYxNDQxZDRkZDBmNGI5NDAiOiIweDk0OWMxODY3YzdmZGUwYTZmODFlMmY2MmNhYWNkOWExMWE1MjMyZmJmYWM5YmQzZmE5MGU5ZWIxOGY0Mzk2MyJ9fSwiNDY4MzIiOnsiZnVuZ2libGVzIjp7IjQzMTllOGYxOTZjZTNjNWE3NzNlZTNlMzc3ZDNmZDhmMjE4ODEwYTNmYjAzZWZhZDdjNzUxMzE2MDE4ODgzYzkiOiIweGYwMmRmZjJkZWIwYmQ5ODA3NmFmYjNmOTFiOGI1ZjYzZGI2N2UzYWQ2OGFkMjEwNGZiOGU3MGRmYjYwM2NjMjcifX19fSwidHlwZSI6IlRyYW5zZmVyIn19"}},"sender":{"type":"test","data":"0x11342d7d8ae3c7ead6845ade6838864c64197ec6a3f9ea8b6e91d6e95cbd1b80"},"nonce":"2125693044916249229","recipient":{"type":"test","data":"0x9fd4beb19363aa85863235445062bc37955561c4328b138fa74d4659cc8187d0"},"values":{"30810":{"nfts":{"9c394d17b2b6b9dc5b571898916f40d9ceb9646e51cf41acece5484399501aa6":["0x6a89bf4c7ada3248a507620e85bc30f0473b26d707bde1debd109ce3ca1bd94d","0xf1665d81caab813a29d91f52128c8d8b709d60b42e078a9ab861b9ad4d312805","0xfe7734c3db19d3f9cf65a2b68e5f2b2b9cdb981e27dbc54dded4b4f6e7805715"]}},"37676":{"fungibles":{"7c9de034fab6eb957d3f73f9e9e168a89a7e1ddfb31c5429f1441d4dd0f4b940":"0x949c1867c7fde0a6f81e2f62caacd9a11a5232fbfac9bd3fa90e9eb18f43963"}},"46832":{"fungibles":{"4319e8f196ce3c5a773ee3e377d3fd8f218810a3fb03efad7c751316018883c9":"0xf02dff2deb0bd98076afb3f91b8b5f63db67e3ad68ad2104fb8e70dfb603cc27"}}}}}}}';

const testFullExitMode =
	'{"type":"full","data":{"immediate":false,"chain":null}}';

const testExitRequest =
	'{"id":"an-id","data":{"type":"Transaction","data":{"type":"ExitRequest","data":{"sig":{"type":"test","data":{"address":{"type":"test","data":"0x5a5c750d4ebbfc7e7efbfdbe24001afa441b0685c07eb4f60ac5534a1009311c"},"msg":"eyJ2YWx1ZSI6eyJkYXRhIjp7Im1vZGUiOnsiZGF0YSI6eyJjaGFpbiI6bnVsbCwiaW1tZWRpYXRlIjpmYWxzZX0sInR5cGUiOiJmdWxsIn0sIm5vbmNlIjoiNDgzODg1Nzg3NDI0MDY2NjUyMSIsIm92ZXJyaWRlIjpmYWxzZSwic2VuZGVyIjp7ImRhdGEiOiI1YTVjNzUwZDRlYmJmYzdlN2VmYmZkYmUyNDAwMWFmYTQ0MWIwNjg1YzA3ZWI0ZjYwYWM1NTM0YTEwMDkzMTFjIiwidHlwZSI6InRlc3QifX0sInR5cGUiOiJFeGl0UmVxdWVzdCJ9fQ=="}},"sender":{"type":"test","data":"0x5a5c750d4ebbfc7e7efbfdbe24001afa441b0685c07eb4f60ac5534a1009311c"},"nonce":"4838857874240666521","override":false,"mode":{"type":"full","data":{"immediate":false,"chain":null}}}}}}';

const testMint =
	'{"id":"an-id","data":{"type":"Transaction","data":{"type":"Mint","data":{"sig":{"type":"test","data":{"address":{"type":"test","data":"0xb89e0832fa1cdc3004220cc73d82636deaf9dad75ff16ba37e913e0339b781d1"},"msg":"eyJ2YWx1ZSI6eyJkYXRhIjp7ImlkIjoiNDg1ODk3NDY5Mzg5NTU5ODk0MCIsIm5vbmNlIjoiMTgyMjgyNzg2NTI0NTY3NjcxNjEiLCJzZW5kZXIiOnsiZGF0YSI6ImI4OWUwODMyZmExY2RjMzAwNDIyMGNjNzNkODI2MzZkZWFmOWRhZDc1ZmYxNmJhMzdlOTEzZTAzMzliNzgxZDEiLCJ0eXBlIjoidGVzdCJ9LCJ0b2tlbiI6ImI5ZGI4MjQ1NGViODBkMTM0ZWNmYWU4Yjc2YmMwNGYxMjEwYjE4NmNiYTlhMzM0NmJkNWMxZDc5MmE0ZDI2ZGIifSwidHlwZSI6Ik1pbnQifX0="}},"sender":{"type":"test","data":"0xb89e0832fa1cdc3004220cc73d82636deaf9dad75ff16ba37e913e0339b781d1"},"nonce":"18228278652456767161","token":"0xb9db82454eb80d134ecfae8b76bc04f1210b186cba9a3346bd5c1d792a4d26db","id":"4858974693895598940"}}}}';

// Generated in go; do not change, because it is part of a set.
const testTrade =
	'{"id":"an-id","data":{"type":"Transaction","data":{"type":"Trade","data":{"sig":{"type":"test","data":{"address":{"type":"test","data":"0xc54965d68655c9d2f6c6f2d58783728862429c049e444390cf96810be9d993ef"},"msg":"eyJ2YWx1ZSI6eyJkYXRhIjp7Im5vbmNlIjoiODg3MDExNTI5MDIwOTI2OTgwOSIsIm9mZmVyIjp7ImV4cGlyeSI6IjE2Nzg4MjU1NjMzMzc4NTQ5MzIxIiwib2ZmZXIiOnsiMTA5OTEiOnsibmZ0cyI6eyJjNWM3NzdhNGEwOTkxMGI3NTQ1ZjZmMzA3NjJiNTg4OTNkY2M4ZGU0ZDc5YTFiZDkwMjM1MzdjM2NkY2M1MmNkIjpbIjB4YzI5Yjg0OTM5YjRjOTBiNmIwN2NlYjk1YmU1YjhjNjk1NzBkNTQyNGU5NjIxOTAzMzlmOTZlNDM0YzRhMzlkIiwiMHhkZWNhZDY4NDJjY2JhMjBmMTU4OTkxMmFiYWQ4MzhjNDc0OTVmN2Y1OTQwYmUzNjNlMWU2ZDM5NmQwNTEwMTk4Il19fSwiMjc0NjciOnsiZnVuZ2libGVzIjp7IjRlMWVjNWNmNTMxZTAyYjZmZGYwN2U5OTUzNTM1MDkzMzBjYWYyMDk0NDhhNzZkOTNiNDg3YTQyZWZjMTdkMTIiOiIweGNiODVhNzA1OGQ0NGY1NDBhZTIyOWE3MjVkNTZmMDBhZjlmZjg3NDlhNTVmNjRiNWViZjM0MjYxN2NjZTBlZGUifX0sIjMwNDgzIjp7Im5mdHMiOnsiMmI0MGQ2NTA2Y2ZkYWMyMjRhMzI3NTdmMDdlYzU4Njk2MGJlNzBhYzYzMzJlOTk3Njc4YWQ4MTMxNTdhZDdmZSI6WyIweDVlZGJhMDE4ZjUyN2JhMWYyYmRmNDE2ZGM2MTM1NzFiNGRkZmNlZDE0NGIxMzE1NWZkYjk5ZTA3NWZiNmQ3MDQiXX19LCIzMjg2Ijp7Im5mdHMiOnsiYzJmMGQ5NTc0ZGYxYzAyYzRhNmNkNzUzNDVlYzI2ZTc2OWJkYmNiNmU5OTM1MWNlZjE4M2YwNTY1MWVlMDk4MyI6WyIweDE2ZGNmMzNhZWI4NTNmNTA2ZTY1ZTliMTIyMjFmZTZkZWJkYzYwM2Y0ZWRjNmI1MjM5ZWNkNjk2YmIzM2YwZDQiLCIweGE4ODQwNjhhMmJlM2ZmMWNkOTVhMzA2NmRiYTRiZjUyOTEyMTZjYWY4NzI5YjIzYzdkYTIxMmU5MGM1YWIxNGEiXX19fSwib3duZXIiOnsiZGF0YSI6ImIzNjI2MjhlZWRlZWMzYzUwZGYzZGMzNzg5ZjQxZDAwYjVmNDgxYWJjYzU4NDYwMDg5MzFmYjUwY2Y4NTJjYmEiLCJ0eXBlIjoidGVzdCJ9LCJyZXF1ZXN0Ijp7IjIzNDExIjp7Im5mdHMiOnsiNTEwZGQ0NzU0ZmUxZjYwYWZjNGM1OWUyZjg0NDdiNGUxZjgwZTA5NWUxMjllNzVhOTJkNjYzYmM4YmM3ZmMxMSI6WyIweDI5NTNjNDFhZWFkY2YyZTRjM2NjMTVjZmQ1MTMzNWE0MmFmZGMzYWMyYjE0ZmRkOWZlZmVmYTAxZTgzYjkwNWMiXX19LCIzOTgwOCI6eyJuZnRzIjp7ImQxNjM0NDM1ZmRiOTQ4MGIyNTVmNDQ0ZWMyNWY5Y2YyZDNlYzBmZjY4MjYzYjM2ZGI0MDJjNDgwMWU1NGFhNGEiOlsiMHgxMWJjM2QyZTkzY2ZmMDBkZDVhOWFkZTE4NzUwM2FiNWY2YjRiNzNmMjJhOWZlN2YyZmVjMmJjNjRhODBlOTllIiwiMHg1MjYyNzcyY2JmOWUxNjMzMWQyN2RlNmVhNmFhNWVlMGFkNDNjODQ2ZGY1ZTU0ZjMyN2JmNzdkOGI0Mjc0NDIyIiwiMHhhNDVhYTQ4OGRlYjhmZTNjYTRjN2Q3NGY4OTk2MzYwY2NlZDkzMmEzNWQ0MjkzMTFkYjNlMzNlYThhY2U5MTVkIl19fSwiNDMwNDEiOnsiZnVuZ2libGVzIjp7IjZjMjQxYjVlM2Q5MGNiYTcxNTQ2NDI4YWJlN2ZmMGIwOTE4N2NhMzkzOWE1ZWUwNjJjYTU5Y2EzOTdhOTc0NDUiOiIweGUwNTQ3YTBiYzBmMjk1ZGZmYTk2Yjc4ZDYxODI3MjBlYmVjZTJjNjUwN2E4YzllOWYxMWUxMmY3NzA1MzFkMDIifX19LCJzaWciOnsiZGF0YSI6eyJhZGRyZXNzIjoiYjM2MjYyOGVlZGVlYzNjNTBkZjNkYzM3ODlmNDFkMDBiNWY0ODFhYmNjNTg0NjAwODkzMWZiNTBjZjg1MmNiYSIsIm1zZyI6ImV5SjJZV3gxWlNJNmV5SjBlWEJsSWpvaVZISmhaR1ZQWm1abGNpSXNJblpoYkhWbElqcDdJbVY0Y0dseWVTSTZJakUyTnpnNE1qVTFOak16TXpjNE5UUTVNekl4SWl3aWIyWm1aWElpT25zaU1UQTVPVEVpT25zaWJtWjBjeUk2ZXlKak5XTTNOemRoTkdFd09Ua3hNR0kzTlRRMVpqWm1NekEzTmpKaU5UZzRPVE5rWTJNNFpHVTBaRGM1WVRGaVpEa3dNak0xTXpkak0yTmtZMk0xTW1Oa0lqcGJJakI0WXpJNVlqZzBPVE01WWpSak9UQmlObUl3TjJObFlqazFZbVUxWWpoak5qazFOekJrTlRReU5HVTVOakl4T1RBek16bG1PVFpsTkRNMFl6UmhNemxrSWl3aU1IaGtaV05oWkRZNE5ESmpZMkpoTWpCbU1UVTRPVGt4TW1GaVlXUTRNemhqTkRjME9UVm1OMlkxT1RRd1ltVXpOak5sTVdVMlpETTVObVF3TlRFd01UazRJbDE5ZlN3aU1qYzBOamNpT25zaVpuVnVaMmxpYkdWeklqcDdJalJsTVdWak5XTm1OVE14WlRBeVlqWm1aR1l3TjJVNU9UVXpOVE0xTURrek16QmpZV1l5TURrME5EaGhOelprT1ROaU5EZzNZVFF5Wldaak1UZGtNVElpT2lJd2VHTmlPRFZoTnpBMU9HUTBOR1kxTkRCaFpUSXlPV0UzTWpWa05UWm1NREJoWmpsbVpqZzNORGxoTlRWbU5qUmlOV1ZpWmpNME1qWXhOMk5qWlRCbFpHVWlmWDBzSWpNd05EZ3pJanA3SW01bWRITWlPbnNpTW1JME1HUTJOVEEyWTJaa1lXTXlNalJoTXpJM05UZG1NRGRsWXpVNE5qazJNR0psTnpCaFl6WXpNekpsT1RrM05qYzRZV1E0TVRNeE5UZGhaRGRtWlNJNld5SXdlRFZsWkdKaE1ERTRaalV5TjJKaE1XWXlZbVJtTkRFMlpHTTJNVE0xTnpGaU5HUmtabU5sWkRFME5HSXhNekUxTldaa1lqazVaVEEzTldaaU5tUTNNRFFpWFgxOUxDSXpNamcySWpwN0ltNW1kSE1pT25zaVl6Sm1NR1E1TlRjMFpHWXhZekF5WXpSaE5tTmtOelV6TkRWbFl6STJaVGMyT1dKa1ltTmlObVU1T1RNMU1XTmxaakU0TTJZd05UWTFNV1ZsTURrNE15STZXeUl3ZURFMlpHTm1Nek5oWldJNE5UTm1OVEEyWlRZMVpUbGlNVEl5TWpGbVpUWmtaV0prWXpZd00yWTBaV1JqTm1JMU1qTTVaV05rTmprMlltSXpNMll3WkRRaUxDSXdlR0U0T0RRd05qaGhNbUpsTTJabU1XTmtPVFZoTXpBMk5tUmlZVFJpWmpVeU9URXlNVFpqWVdZNE56STVZakl6WXpka1lUSXhNbVU1TUdNMVlXSXhOR0VpWFgxOWZTd2liM2R1WlhJaU9uc2laR0YwWVNJNkltSXpOakkyTWpobFpXUmxaV016WXpVd1pHWXpaR016TnpnNVpqUXhaREF3WWpWbU5EZ3hZV0pqWXpVNE5EWXdNRGc1TXpGbVlqVXdZMlk0TlRKalltRWlMQ0owZVhCbElqb2lkR1Z6ZENKOUxDSnlaWEYxWlhOMElqcDdJakl6TkRFeElqcDdJbTVtZEhNaU9uc2lOVEV3WkdRME56VTBabVV4WmpZd1lXWmpOR00xT1dVeVpqZzBORGRpTkdVeFpqZ3daVEE1TldVeE1qbGxOelZoT1RKa05qWXpZbU00WW1NM1ptTXhNU0k2V3lJd2VESTVOVE5qTkRGaFpXRmtZMll5WlRSak0yTmpNVFZqWm1RMU1UTXpOV0UwTW1GbVpHTXpZV015WWpFMFptUmtPV1psWm1WbVlUQXhaVGd6WWprd05XTWlYWDE5TENJek9UZ3dPQ0k2ZXlKdVpuUnpJanA3SW1ReE5qTTBORE0xWm1SaU9UUTRNR0l5TlRWbU5EUTBaV015TldZNVkyWXlaRE5sWXpCbVpqWTRNall6WWpNMlpHSTBNREpqTkRnd01XVTFOR0ZoTkdFaU9sc2lNSGd4TVdKak0yUXlaVGt6WTJabU1EQmtaRFZoT1dGa1pURTROelV3TTJGaU5XWTJZalJpTnpObU1qSmhPV1psTjJZeVptVmpNbUpqTmpSaE9EQmxPVGxsSWl3aU1IZzFNall5TnpjeVkySm1PV1V4TmpNek1XUXlOMlJsTm1WaE5tRmhOV1ZsTUdGa05ETmpPRFEyWkdZMVpUVTBaak15TjJKbU56ZGtPR0kwTWpjME5ESXlJaXdpTUhoaE5EVmhZVFE0T0dSbFlqaG1aVE5qWVRSak4yUTNOR1k0T1RrMk16WXdZMk5sWkRrek1tRXpOV1EwTWprek1URmtZak5sTXpObFlUaGhZMlU1TVRWa0lsMTlmU3dpTkRNd05ERWlPbnNpWm5WdVoybGliR1Z6SWpwN0lqWmpNalF4WWpWbE0yUTVNR05pWVRjeE5UUTJOREk0WVdKbE4yWm1NR0l3T1RFNE4yTmhNemt6T1dFMVpXVXdOakpqWVRVNVkyRXpPVGRoT1RjME5EVWlPaUl3ZUdVd05UUTNZVEJpWXpCbU1qazFaR1ptWVRrMllqYzRaRFl4T0RJM01qQmxZbVZqWlRKak5qVXdOMkU0WXpsbE9XWXhNV1V4TW1ZM056QTFNekZrTURJaWZYMTlmWDE5In0sInR5cGUiOiJ0ZXN0In19LCJzZW5kZXIiOnsiZGF0YSI6ImM1NDk2NWQ2ODY1NWM5ZDJmNmM2ZjJkNTg3ODM3Mjg4NjI0MjljMDQ5ZTQ0NDM5MGNmOTY4MTBiZTlkOTkzZWYiLCJ0eXBlIjoidGVzdCJ9fSwidHlwZSI6IlRyYWRlIn19"}},"sender":{"type":"test","data":"0xc54965d68655c9d2f6c6f2d58783728862429c049e444390cf96810be9d993ef"},"nonce":"8870115290209269809","offer":{"sig":{"type":"test","data":{"address":{"type":"test","data":"0xb362628eedeec3c50df3dc3789f41d00b5f481abcc5846008931fb50cf852cba"},"msg":"eyJ2YWx1ZSI6eyJ0eXBlIjoiVHJhZGVPZmZlciIsInZhbHVlIjp7ImV4cGlyeSI6IjE2Nzg4MjU1NjMzMzc4NTQ5MzIxIiwib2ZmZXIiOnsiMTA5OTEiOnsibmZ0cyI6eyJjNWM3NzdhNGEwOTkxMGI3NTQ1ZjZmMzA3NjJiNTg4OTNkY2M4ZGU0ZDc5YTFiZDkwMjM1MzdjM2NkY2M1MmNkIjpbIjB4YzI5Yjg0OTM5YjRjOTBiNmIwN2NlYjk1YmU1YjhjNjk1NzBkNTQyNGU5NjIxOTAzMzlmOTZlNDM0YzRhMzlkIiwiMHhkZWNhZDY4NDJjY2JhMjBmMTU4OTkxMmFiYWQ4MzhjNDc0OTVmN2Y1OTQwYmUzNjNlMWU2ZDM5NmQwNTEwMTk4Il19fSwiMjc0NjciOnsiZnVuZ2libGVzIjp7IjRlMWVjNWNmNTMxZTAyYjZmZGYwN2U5OTUzNTM1MDkzMzBjYWYyMDk0NDhhNzZkOTNiNDg3YTQyZWZjMTdkMTIiOiIweGNiODVhNzA1OGQ0NGY1NDBhZTIyOWE3MjVkNTZmMDBhZjlmZjg3NDlhNTVmNjRiNWViZjM0MjYxN2NjZTBlZGUifX0sIjMwNDgzIjp7Im5mdHMiOnsiMmI0MGQ2NTA2Y2ZkYWMyMjRhMzI3NTdmMDdlYzU4Njk2MGJlNzBhYzYzMzJlOTk3Njc4YWQ4MTMxNTdhZDdmZSI6WyIweDVlZGJhMDE4ZjUyN2JhMWYyYmRmNDE2ZGM2MTM1NzFiNGRkZmNlZDE0NGIxMzE1NWZkYjk5ZTA3NWZiNmQ3MDQiXX19LCIzMjg2Ijp7Im5mdHMiOnsiYzJmMGQ5NTc0ZGYxYzAyYzRhNmNkNzUzNDVlYzI2ZTc2OWJkYmNiNmU5OTM1MWNlZjE4M2YwNTY1MWVlMDk4MyI6WyIweDE2ZGNmMzNhZWI4NTNmNTA2ZTY1ZTliMTIyMjFmZTZkZWJkYzYwM2Y0ZWRjNmI1MjM5ZWNkNjk2YmIzM2YwZDQiLCIweGE4ODQwNjhhMmJlM2ZmMWNkOTVhMzA2NmRiYTRiZjUyOTEyMTZjYWY4NzI5YjIzYzdkYTIxMmU5MGM1YWIxNGEiXX19fSwib3duZXIiOnsiZGF0YSI6ImIzNjI2MjhlZWRlZWMzYzUwZGYzZGMzNzg5ZjQxZDAwYjVmNDgxYWJjYzU4NDYwMDg5MzFmYjUwY2Y4NTJjYmEiLCJ0eXBlIjoidGVzdCJ9LCJyZXF1ZXN0Ijp7IjIzNDExIjp7Im5mdHMiOnsiNTEwZGQ0NzU0ZmUxZjYwYWZjNGM1OWUyZjg0NDdiNGUxZjgwZTA5NWUxMjllNzVhOTJkNjYzYmM4YmM3ZmMxMSI6WyIweDI5NTNjNDFhZWFkY2YyZTRjM2NjMTVjZmQ1MTMzNWE0MmFmZGMzYWMyYjE0ZmRkOWZlZmVmYTAxZTgzYjkwNWMiXX19LCIzOTgwOCI6eyJuZnRzIjp7ImQxNjM0NDM1ZmRiOTQ4MGIyNTVmNDQ0ZWMyNWY5Y2YyZDNlYzBmZjY4MjYzYjM2ZGI0MDJjNDgwMWU1NGFhNGEiOlsiMHgxMWJjM2QyZTkzY2ZmMDBkZDVhOWFkZTE4NzUwM2FiNWY2YjRiNzNmMjJhOWZlN2YyZmVjMmJjNjRhODBlOTllIiwiMHg1MjYyNzcyY2JmOWUxNjMzMWQyN2RlNmVhNmFhNWVlMGFkNDNjODQ2ZGY1ZTU0ZjMyN2JmNzdkOGI0Mjc0NDIyIiwiMHhhNDVhYTQ4OGRlYjhmZTNjYTRjN2Q3NGY4OTk2MzYwY2NlZDkzMmEzNWQ0MjkzMTFkYjNlMzNlYThhY2U5MTVkIl19fSwiNDMwNDEiOnsiZnVuZ2libGVzIjp7IjZjMjQxYjVlM2Q5MGNiYTcxNTQ2NDI4YWJlN2ZmMGIwOTE4N2NhMzkzOWE1ZWUwNjJjYTU5Y2EzOTdhOTc0NDUiOiIweGUwNTQ3YTBiYzBmMjk1ZGZmYTk2Yjc4ZDYxODI3MjBlYmVjZTJjNjUwN2E4YzllOWYxMWUxMmY3NzA1MzFkMDIifX19fX19"}},"owner":{"type":"test","data":"0xb362628eedeec3c50df3dc3789f41d00b5f481abcc5846008931fb50cf852cba"},"offer":{"10991":{"nfts":{"c5c777a4a09910b7545f6f30762b58893dcc8de4d79a1bd9023537c3cdcc52cd":["0xc29b84939b4c90b6b07ceb95be5b8c69570d5424e962190339f96e434c4a39d","0xdecad6842ccba20f1589912abad838c47495f7f5940be363e1e6d396d0510198"]}},"27467":{"fungibles":{"4e1ec5cf531e02b6fdf07e995353509330caf209448a76d93b487a42efc17d12":"0xcb85a7058d44f540ae229a725d56f00af9ff8749a55f64b5ebf342617cce0ede"}},"30483":{"nfts":{"2b40d6506cfdac224a32757f07ec586960be70ac6332e997678ad813157ad7fe":["0x5edba018f527ba1f2bdf416dc613571b4ddfced144b13155fdb99e075fb6d704"]}},"3286":{"nfts":{"c2f0d9574df1c02c4a6cd75345ec26e769bdbcb6e99351cef183f05651ee0983":["0x16dcf33aeb853f506e65e9b12221fe6debdc603f4edc6b5239ecd696bb33f0d4","0xa884068a2be3ff1cd95a3066dba4bf5291216caf8729b23c7da212e90c5ab14a"]}}},"expiry":"16788255633378549321","request":{"23411":{"nfts":{"510dd4754fe1f60afc4c59e2f8447b4e1f80e095e129e75a92d663bc8bc7fc11":["0x2953c41aeadcf2e4c3cc15cfd51335a42afdc3ac2b14fdd9fefefa01e83b905c"]}},"39808":{"nfts":{"d1634435fdb9480b255f444ec25f9cf2d3ec0ff68263b36db402c4801e54aa4a":["0x11bc3d2e93cff00dd5a9ade187503ab5f6b4b73f22a9fe7f2fec2bc64a80e99e","0x5262772cbf9e16331d27de6ea6aa5ee0ad43c846df5e54f327bf77d8b4274422","0xa45aa488deb8fe3ca4c7d74f8996360cced932a35d429311db3e33ea8ace915d"]}},"43041":{"fungibles":{"6c241b5e3d90cba71546428abe7ff0b09187ca3939a5ee062ca59ca397a97445":"0xe0547a0bc0f295dffa96b78d6182720ebece2c6507a8c9e9f11e12f770531d02"}}}}}}}}';

const testPhaseShift =
	'{"id":"an-id","data":{"type":"PhaseShift","data":{"currentEpoch": "53"}}}';

const testError = '{"id":"an-id","error":"could not get proof"}';

const testSubscribeTXs =
	'{"id":"an-id","data":{"type":"SubscribeTXs","data":{"who":{"type":"ethereum","data":"0x165803a9e8ae54dd4e8da44a8d19897c19cb91aeaea6afc67a7e8c6f35323716"}, "cancel": false}}}';
const testSubscribeBalanceProofs =
	'{"id":"an-id","data":{"type":"SubscribeBalanceProofs","data":{"who":{"type":"ethereum","data":"0x165803a9e8ae54dd4e8da44a8d19897c19cb91aeaea6afc67a7e8c6f35323716"}}}}';
const testSubscribePhaseShifts =
	'{"id":"an-id","data":{"type":"SubscribePhaseShifts","data":{"cancel": false}}}';

const testHashing =
	'{"sig":"0xb6fe6caae7123c3e1ce2640cfb914bfacb4f41b6fc2f84f406969ca668a7ebd4079c0de067ee5d323b620cc5d46d5f9fe0e12ef18feb0811b6af44af4188fd8a2d","sender":"0xe53508e4594eefa2d03a463e7d66ac640964989d","nonce":"6922120226907108202","recipient":"0xb3fd33b30f9e224d0521b79c73194150648dd300","values":{"0x6b5e665ab94af885657f1edc7674bf3a79beb68b":{"idset":["0x769765eb4327c5f82609a2ea89edc797439d3108930ec6a0ce5277d33c324f47","0xbb970d21666b218bc7efde58be7cf8c7a5ae5bad6ebef77094dcb4740e9449b0"]},"0xc6bde651b4fa5458546df0f4661d230d75ba4970":{"uint":"0xe278f34bbdb943bf627b77ba83ccb16bffef1cbbf29c2d535389776aa9d6fc7d"},"0xbe003d31ef714e903c4f8aa3785f53df1da201ac":{"idset":["0x6d222983926317836b7ae73c70e3f03b78f75356cc09da100acb5b8e712f75b2","0xbaa4daba158d05694898d7a86cf0489defa383166dd0ac3ad096d1d14ef935da","0xd1fadbdbc0f03e4d2acbe2cdda23f1acd968873571b1534ac41b8e9624703b27"]}}}';

const testAttestResponse =
	'{"type":"AttestResponse","data":{"attestation":{"data":{"parameters":{"EpochDuration":862467752199278129,"ChainParams":[{"params":{"PowDepth":403952450131907424,"Contract":"0xafe376471ab3d6815d5a4e8fe4714363adb28ffd","TokenHolders":{"0":"0x7142c31f7cbdbf4b0e48a763f9d00c51d89b11f0","1":"0x44e7eb7ac68ec97c2a2ce1bd13ee150e7ffdb2e5","2":"0x367b915be31af697ae0e7438ab3d185650330411"},"Network":"Ropsten","InitBlock":6502288961600447016,"InitBlockHash":"0x0abd9976ea9bb472940700c23fbe636e33801bb80a8c003c53078f0f5f220eb7"},"type":"ethereum"}]},"enclaveAddress":"0x0000000000000000000000000000000000000000","nonce":"3906104588195666162","chains":null},"report":"DvD8/gYqXzaYsspCyBQY52jJzoa2molXv1c+LvqdvyhDynkCnOkso0yq91v0EfVcN97XPZ0rSZHi8PFIvlIteA=="}}}';
